(()=>{"use strict";var e={648:(e,r,t)=>{t.d(r,{DB:()=>a});var o=t(336),s=t(744);const n=new o.SecretsManager({region:"us-east-2"});class a{static getCredencials(){return new Promise(((e,r)=>{n.getSecretValue({SecretId:"dev/rds/2"},((t,o)=>{if(t)r(t);else{let r;r="SecretString"in o?o.SecretString:new Buffer(o.SecretBinary,"base64").toString("ascii");const{username:t,password:s,host:n,port:a}=JSON.parse(r);e({user:t,password:s,host:n,port:a})}}))}))}static async getConnection(e){return await s.createConnection(e)}static async executeStatement(e,r,t){const o=this.bindQueryParameters(e,r,t);return new Promise(((r,t)=>{e.query(o,((e,o)=>{e?(console.log(e),t(e)):r(o)}))}))}static bindQueryParameters(e,r,t={}){let o=r;for(const r in t){const s=e.escape(t[r]);o=o.replace(`:${r}`,s)}return o}}},444:(e,r,t)=>{t.d(r,{z:()=>i});var o=t(862),s=t.n(o),n=t(582),a=t.n(n);const i=e=>s()(e).use(a()())},862:e=>{e.exports=require("@middy/core")},582:e=>{e.exports=require("@middy/http-json-body-parser")},336:e=>{e.exports=require("aws-sdk")},744:e=>{e.exports=require("mysql")},501:e=>{e.exports=require("source-map-support/register")}},r={};function t(o){var s=r[o];if(void 0!==s)return s.exports;var n=r[o]={exports:{}};return e[o](n,n.exports,t),n.exports}t.n=e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return t.d(r,{a:r}),r},t.d=(e,r)=>{for(var o in r)t.o(r,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:r[o]})},t.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),t.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};(()=>{t.r(o),t.d(o,{main:()=>s}),t(501);var e=t(444),r=t(648);const s=(0,e.z)((async()=>{const e=await r.DB.getCredencials();Object.assign(e,{database:"db_citas"});const t=await r.DB.getConnection(e),o=await r.DB.executeStatement(t,"select idMedico, nombreCompleto from medico",{});return console.log("result",o),t.end(),o}))})();var s=exports;for(var n in o)s[n]=o[n];o.__esModule&&Object.defineProperty(s,"__esModule",{value:!0})})();
//# sourceMappingURL=handler.js.map